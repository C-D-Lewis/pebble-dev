!function(){"use strict";function e(e,r,t){return e&&e.then||(e=Promise.resolve(e)),r?e.then(r):e}function r(e){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];try{return Promise.resolve(e.apply(this,r))}catch(e){return Promise.reject(e)}}}function t(e){var r=e.url,t=e.responseType;return new Promise(function(e,n){var i=new XMLHttpRequest;i.responseType=t||"",i.onload=function(){i.status>=200&&i.status<300?e(i):n(new Error("Request failed with status ".concat(i.status)))},i.onerror=function(){n(new Error("Network error"))},i.open("GET",r,!0),i.send()})}var n=r(function(r){return e(t({url:r,responseType:"arraybuffer"}),function(e){return new Uint8Array(e.response)})}),i=r(function(r){return e(t({url:r}),function(e){return JSON.parse(e.responseText)})}),o={sendAppMessage:function(e){return new Promise(function(r,t){Pebble.sendAppMessage(e,r,t)})},getTimelineToken:function(){return new Promise(function(e,r){Pebble.getTimelineToken(e,r)})},fetchString:r(function(r){return e(t({url:r}),function(e){return e.responseText})}),fetchJSON:i,fetchBinary:n};function u(e,r,t){return e&&e.then||(e=Promise.resolve(e)),r?e.then(r):e}function c(e){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];try{return Promise.resolve(e.apply(this,r))}catch(e){return Promise.reject(e)}}}function s(){}function a(e,r){return e&&e.then?e.then(s):Promise.resolve()}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach(function(r){y(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function y(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r);if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==l(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var b=c(function(e){return u(o.fetchJSON("https://api.tfl.gov.uk/line/mode/".concat(e.join(","),"/status")),function(e){return e.reduce(function(e,r){return p(p({},e),{},y({},r.id,r.lineStatuses[0].statusSeverityDescription||"?"))},{})})}),m=c(function(e){var r={LineTypeBakerloo:e.bakerloo||"?",LineTypeCentral:e.central||"?",LineTypeCircle:e.circle||"?",LineTypeDistrict:e.district||"?",LineTypeDLR:e.dlr||"?",LineTypeElizabeth:e.elizabeth||"?",LineTypeHammersmithAndCity:e["hammersmith-city"]||"?",LineTypeJubilee:e.jubilee||"?",LineTypeLiberty:e.liberty||"?",LineTypeLioness:e.lioness||"?",LineTypeMetropolitan:e.metropolitan||"?",LineTypeMildmay:e.mildmay||"?",LineTypeNorthern:e.northern||"?",LineTypePicadilly:e.piccadilly||"?",LineTypeSuffragette:e.suffragette||"?",LineTypeVictoria:e.victoria||"?",LineTypeWaterlooAndCity:e["waterloo-city"]||"?",LineTypeWeaver:e.weaver||"?",LineTypeWindrush:e.windrush||"?"};return a(o.sendAppMessage(r))});Pebble.addEventListener("ready",c(function(e){return console.log("PebbleKit JS ready"),u(b(["tube","dlr","elizabeth-line","overground"]),function(e){return a(m(e))})}))}();